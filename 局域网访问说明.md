# 局域网访问配置说明

## 配置已完成

系统已配置为支持局域网访问，其他设备可以通过你的IP地址访问系统。

## 如何使用

### 1. 查看你的局域网IP地址

**macOS:**
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

或者在系统偏好设置 > 网络中查看

**Windows:**
```bash
ipconfig
```
查找 "IPv4 地址"

**Linux:**
```bash
ip addr show
```

### 2. 启动项目

```bash
npm run dev
```

启动后会显示：
- 本地访问地址
- 局域网访问地址

### 3. 局域网内其他设备访问

假设你的IP地址是 `192.168.1.100`

**前端访问地址:**
```
http://192.168.1.100:5173
```

**后端API地址:**
```
http://192.168.1.100:3000
```

### 4. 手机/平板访问

1. 确保手机/平板连接到同一个WiFi网络
2. 打开浏览器
3. 输入: `http://你的IP:5173`
4. 即可访问系统

## 注意事项

1. **防火墙设置**
   - 确保防火墙允许 3000 和 5173 端口
   - macOS: 系统偏好设置 > 安全性与隐私 > 防火墙
   - Windows: 控制面板 > Windows Defender 防火墙

2. **同一网络**
   - 所有设备必须连接到同一个局域网（WiFi或有线）

3. **IP地址变化**
   - 如果重启路由器，IP地址可能会变化
   - 需要重新查看IP地址

## 生产环境部署

如果需要部署到服务器供外网访问：

### 1. 构建前端
```bash
cd client
npm run build
```

### 2. 配置Nginx（推荐）

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # 前端静态文件
    location / {
        root /path/to/client/dist;
        try_files $uri $uri/ /index.html;
    }

    # 后端API代理
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

### 3. 使用PM2管理后端进程

```bash
npm install -g pm2
pm2 start server/index.js --name skill-log-system
pm2 save
pm2 startup
```

## 故障排查

### 无法访问？

1. **检查服务是否启动**
   ```bash
   # 检查端口是否被占用
   lsof -i :3000
   lsof -i :5173
   ```

2. **检查防火墙**
   ```bash
   # macOS 临时关闭防火墙测试
   sudo /usr/libexec/ApplicationFirewall/socketfilterfw --setglobalstate off
   ```

3. **检查IP地址是否正确**
   - 确保使用的是局域网IP（通常是 192.168.x.x 或 10.x.x.x）
   - 不要使用 127.0.0.1 或 localhost

4. **检查网络连接**
   - 确保所有设备在同一个WiFi网络
   - 尝试ping你的IP地址: `ping 192.168.1.100`

## 快速测试

在启动项目后，用手机扫描二维码（如果终端支持）或直接输入IP地址访问。

默认管理员账号：
- 用户名: `admin`
- 密码: `admin123`
